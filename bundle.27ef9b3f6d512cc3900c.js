"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[179],{295:(e,n,t)=>{var o=t(477),a=t(108),i=t(458),s=t(484),r=t(157),c=t(711),p=t(175),w=t(125),h=t.n(w);const d={width:window.innerWidth,height:window.innerHeight},l={x:0,y:0},u=new o.FM8,m=new o.FM8;window.addEventListener("mousemove",(e=>{l.x=e.clientX/d.width-.5,l.y=-(e.clientY/d.height-.5),u.x=e.clientX/d.width*2-1,u.y=-e.clientY/d.height*2+1,m.x=e.clientX,m.y=e.clientY}));const g=document.querySelector("canvas.webgl"),M=new o.xsS,x=new(h().World);x.broadphase=new(h().SAPBroadphase)(x),x.gravity.set(0,0,0);const y=new o.ybr("#A842FF",20,40);M.fog=y;const b=new o.dpR,v=new o.cBK,j=b.load("./textures/matcaps/10.jpeg"),f=new o.kaV({matcap:j});(new r.J).load("./fonts/Mabry Pro Black_Regular.json",(e=>{const n=new c.M("small fps energy",{font:e,size:.5,height:.2,curveSegments:3});n.center();const t=new o.Kj0(n,f);M.add(t)}));const k=v.load(["./textures/environmentMaps/cubeMap/px.jpg","./textures/environmentMaps/cubeMap/nx.jpg","./textures/environmentMaps/cubeMap/py.jpg","./textures/environmentMaps/cubeMap/ny.jpg","./textures/environmentMaps/cubeMap/pz.jpg","./textures/environmentMaps/cubeMap/nz.jpg"]);M.background=k;const B=b.load("./textures/environmentMaps/normal.jpeg");B.wrapS=o.rpg,B.wrapT=o.rpg,B.repeat.set(1,1);const P=[],V=[],z=new o.EJi({transmission:1,thickness:1.2,roughness:.05,envMap:k,envMapIntensity:1.5,clearcoat:1,clearcoatRoughness:.1,normalScale:new o.FM8(1),normalMap:B,clearcoatNormalMap:B,clearcoatNormalScale:new o.FM8(.3)}),F=z.clone(),S=new(h().Material),q=new(h().ContactMaterial)(S,S,{friction:.04,restitution:.01});x.addContactMaterial(q);const C=new(h().Box)(new(h().Vec3)(2.640500068664551,.3187499940395355,.10000000149011612)),A=new(h().Body)({mass:0,shape:C,material:S});x.addBody(A);const R=new(h().Box)(new(h().Vec3)(.4,.4,6)),E=new(h().Body)({mass:1,shape:R,material:S,force:new(h().Vec3)(1,1,1)});x.addBody(E);const Y=new p.k(.3,.3,.3,2,.05),K=new o.Kj0(Y,z),L=new(h().Box)(new(h().Vec3)(.15,.15,.15));for(let e=0;e<48;e++){const e=K.clone(),n=10*(Math.random()-.5),t=7*(Math.random()-.5),o=10*(Math.random()-.5);e.position.set(n,t,o);const a=new(h().Body)({mass:200,position:new(h().Vec3)(n,t,o),shape:L,material:S,angularDamping:.8,linearDamping:.31,angularVelocity:new(h().Vec3)(10,10,10),force:new(h().Vec3)(10,10,10)}),i=new(h().Vec3)(n,t,o);a.quaternion.setFromAxisAngle(i,n),e.quaternion.copy(a.quaternion),M.add(e),x.addBody(a),P.push(e),V.push(a)}window.addEventListener("resize",(()=>{d.width=window.innerWidth,d.height=window.innerHeight,O.aspect=d.width/d.height,O.updateProjectionMatrix(),W.setSize(d.width,d.height),W.setPixelRatio(Math.min(window.devicePixelRatio,2))}));const O=new o.cPb(45,d.width/d.height,.1,30);O.position.z=6,O.lookAt(0,0,0),M.add(O);const W=new o.CP7({antialias:!0,canvas:g});W.setSize(d.width,d.height),W.setPixelRatio(Math.min(window.devicePixelRatio,2)),W.outputEncoding=o.knz,W.physicallyCorrectLights=!0;const X=new i.C(M,O),D=new s.m(new o.FM8(d.width,d.height),.5,.33,.85),H=new a.xC(W);H.addPass(X),H.addPass(D);const I=new o.SUY;let J=0;const N=new o.iMs;let T,U=[];const _=()=>{const e=I.getElapsedTime(),n=e-J;J=e,N.setFromCamera(u,O);const t=N.intersectObjects(P);for(const e of P)F.roughness=Math.max(.05,F.roughness-=.001),.05===F.roughness&&(e.material=z);for(let e of t)T=t[0],T.object.material=F,T.object.material.roughness=Math.min(.35,T.object.material.roughness+=.09),U.push(T);O.rotation.x=Math.sin(e/10),O.rotation.x+=.5*Math.sin(e)*.01,O.rotation.z=Math.sin(e/4)*l.x*.5,O.lookAt(0,0,0),E.quaternion.copy(O.quaternion),O.position.x+=.01*(15*l.x-O.position.x),O.position.y+=.01*(15*l.y-O.position.y);const a=new o.Pa4(l.x,l.y,0);a.unproject(O),E.position.set(a.x/2,a.y/2,0),x.step(1/60,n,3);for(let e=0;e<P.length;e++){const t=new(h().Vec3)(-V[e].position.x*n*(50*(.5-Math.abs(l.x))),-V[e].position.y*n*(50*(.5-Math.abs(l.x))),-V[e].position.z*n*(50*(.5-Math.abs(l.x))));V[e].applyImpulse(t,new(h().Vec3)(0,0,0)),P[e].position.copy(V[e].position),P[e].quaternion.copy(V[e].quaternion)}H.render(),window.requestAnimationFrame(_)};_()}},e=>{e.O(0,[216],(()=>(295,e(e.s=295)))),e.O()}]);
//# sourceMappingURL=bundle.27ef9b3f6d512cc3900c.js.map